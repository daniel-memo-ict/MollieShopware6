{% block sw_media_upload_v2 %}
    <div class="sw-media-upload-v2">

        <div class="sw-media-upload-v2__content">
            {% block sw_media_upload_v2_compact %}
                <template v-if="variant == 'button'">
                    {% block sw_media_upload_v2_compact_button_file_upload %}
                        <sw-button
                            :disabled="disabled"
                            class="sw-media-upload-v2__button-compact-upload"
                            variant="primary"
                            @click="onClickUpload"
                        >
                            {{ $tc('global.sw-media-upload-v2.buttonFileUpload') }}
                        </sw-button>
                    {% endblock %}
                </template>
            {% endblock %}

            {% block sw_media_upload_v2_regular %}
                <template v-else>
                    {% block sw_media_upload_v2_regular_header %}
                        <div v-if="showHeader" class="sw-media-upload-v2__header">
                            {% block sw_media_upload_v2_regular_header_label %}
                                <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->
                                <label
                                    v-if="label"
                                    class="sw-media-upload-v2__label"
                                >
                                    {{ label }}
                                </label>
                            {% endblock %}

                            {% block sw_media_upload_v2_regular_header_helptext %}
                                <sw-help-text
                                    v-if="helpText"
                                    class="sw-media-upload-v2__help-text"
                                    :text="helpText"
                                />
                            {% endblock %}
                        </div>
                    {% endblock %}

                    {% block sw_media_upload_v2_regular_drop_zone %}
                        <div
                            ref="dropzone"
                            class="sw-media-upload-v2__dropzone"
                            :class="isDragActiveClass"
                        >

                            {% block sw_media_upload_v2_preview %}
                                <template v-if="showPreview">
                                    {% block sw_media_upload_v2_regular_preview_file %}
                                        <sw-media-preview-v2
                                            v-if="source || preview"
                                            class="sw-media-upload-v2__preview"
                                            :source="source || preview"
                                        />
                                    {% endblock %}
                                    {% block sw_media_upload_v2_regular_preview_fallback %}
                                        <div
                                            v-else
                                            class="sw-media-upload-v2__preview is--fallback"
                                        >
                                            <sw-icon
                                                class="sw-media-upload-v2__fallback-icon"
                                                name="default-object-image"
                                            />
                                        </div>
                                    {% endblock %}
                                </template>

                                <template v-else>
                                    {% block sw_media_upload_v2_regular_caption %}
                                        <div class="sw-media-upload-v2__upload-caption">
                                            <sw-icon name="default-action-cloud-upload" />
                                            {{ $tc('global.sw-media-upload-v2.caption') }}
                                        </div>
                                    {% endblock %}
                                </template>
                            {% endblock %}

                            {% block sw_media_upload_v2_actions %}
                                <div
                                    class="sw-media-upload-v2__actions"
                                    :class="{ 'has--source': source }"
                                >

                                    <div
                                        v-if="source"
                                        class="sw-media-upload-v2__file-info"
                                    >
                                        <div class="sw-media-upload-v2__file-headline">
                                            {{ source | mediaName }}
                                        </div>
                                        <sw-icon
                                            v-if="!disabled"
                                            class="sw-media-upload-v2__remove-icon"
                                            name="small-default-x-line-small"
                                            small
                                            @click="onRemoveMediaItem"
                                        />
                                    </div>

                                    <template v-else>
                                        {% block sw_media_upload_v2_regular_actions_add %}
                                            <template>
                                                {% block sw_media_upload_v2_regular_upload_button %}
                                                    <sw-button
                                                        class="sw-media-upload-v2__button upload"
                                                        variant="ghost"
                                                        size="small"
                                                        :disabled="disabled"
                                                        @click="onClickUpload"
                                                    >
                                                        {{ $tc('global.sw-media-upload-v2.buttonFileUpload') }}
                                                    </sw-button>
                                                {% endblock %}
                                            </template>
                                        {% endblock %}
                                    </template>

                                </div>
                            {% endblock %}
                        </div>
                    {% endblock %}
                </template>
            {% endblock %}
        </div>

        {% block sw_media_upload_v2_file_input %}
            <form
                ref="fileForm"
                class="sw-media-upload-v2__form"
            >
                <!-- eslint-disable-next-line vuejs-accessibility/form-control-has-label -->
                <input
                    id="files"
                    ref="fileInput"
                    class="sw-media-upload-v2__file-input"
                    type="file"
                    :accept="fileAccept"
                    :multiple="multiSelect"
                    @change="onFileInputChange"
                >
            </form>
        {% endblock %}
    </div>
{% endblock %}
